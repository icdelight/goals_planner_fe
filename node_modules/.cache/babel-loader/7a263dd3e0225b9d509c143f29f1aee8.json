{"ast":null,"code":"var _jsxFileName = \"/Users/harmadini/Work/Free/React/goals_planner_fe/goals_planner_fe/src/layout/nav/main-menu/MainMenuItems.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, memo, forwardRef, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { useIntl } from 'react-intl';\nimport classNames from 'classnames';\nimport { Collapse, Dropdown } from 'react-bootstrap';\nimport { DEFAULT_SETTINGS, USE_MULTI_LANGUAGE } from 'config.js';\nimport { MENU_PLACEMENT } from 'constants.js';\nimport CsLineIcons from 'cs-line-icons/CsLineIcons';\nimport { layoutShowingNavMenu } from 'layout/layoutSlice';\nimport { menuChangeCollapseAll } from './menuSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HorizontalMenuDropdownToggle = /*#__PURE__*/memo(_c2 = /*#__PURE__*/forwardRef(_c = ({\n  children,\n  onClick,\n  href = '#',\n  active = false\n}, ref) => /*#__PURE__*/_jsxDEV(\"a\", {\n  ref: ref,\n  className: classNames('dropdown-toggle', {\n    active\n  }),\n  \"data-toggle\": \"dropdown\",\n  href: href,\n  onClick: e => {\n    e.preventDefault();\n    onClick(e);\n  },\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 15,\n  columnNumber: 5\n}, this)));\n_c3 = HorizontalMenuDropdownToggle;\nconst MainMenuItem = /*#__PURE__*/memo(_c4 = _s(({\n  item,\n  id,\n  isSubItem = false,\n  menuPlacement = DEFAULT_SETTINGS.MENU_PLACEMENT\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const dropdownMenuRef = useRef();\n  const {\n    collapseAll\n  } = useSelector(state => state.menu);\n  const {\n    showingNavMenu\n  } = useSelector(state => state.layout);\n  const {\n    pathname\n  } = useLocation();\n  const isActive = item.path.startsWith('#') ? false : pathname === item.path || pathname.indexOf(`${item.path}/`) > -1;\n  const {\n    formatMessage: f\n  } = useIntl();\n  const [verticalMenuCollapseExpanded, setVerticalMenuCollapseExpanded] = useState(isActive);\n  const [horizontalDropdownIsOpen, setHorizontalDropdownIsOpen] = useState(false);\n\n  const getLabel = (icon, label) => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [icon && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CsLineIcons, {\n        icon: icon,\n        size: 18,\n        className: \"cs-icon icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), ' ']\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"label\",\n      children: USE_MULTI_LANGUAGE ? f({\n        id: label\n      }) : label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n\n  const onToggleItem = isOpen => {\n    setHorizontalDropdownIsOpen(isOpen);\n  };\n\n  const onVerticalMenuCollapseClick = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setVerticalMenuCollapseExpanded(!verticalMenuCollapseExpanded);\n    dispatch(menuChangeCollapseAll(false));\n  };\n\n  const onHorizontalMenuDropdownToggleClick = () => {\n    onToggleItem(!horizontalDropdownIsOpen);\n    dispatch(layoutShowingNavMenu(''));\n  };\n\n  useEffect(() => {\n    if (showingNavMenu !== '' && horizontalDropdownIsOpen) {\n      onToggleItem(false);\n    }\n  }, [showingNavMenu, horizontalDropdownIsOpen]);\n\n  if (item.subs && menuPlacement === MENU_PLACEMENT.Horizontal && !item.megaParent) {\n    return /*#__PURE__*/_jsxDEV(Dropdown, {\n      as: \"li\",\n      onToggle: onToggleItem,\n      className: classNames({\n        mega: item.mega\n      }),\n      show: horizontalDropdownIsOpen,\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n        as: HorizontalMenuDropdownToggle,\n        onClick: onHorizontalMenuDropdownToggleClick,\n        href: item.path,\n        active: isActive,\n        children: getLabel(item.icon, item.label)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n        ref: dropdownMenuRef,\n        renderOnMount: true,\n        as: \"ul\",\n        align: \"left\",\n        className: classNames('opacityIn', {\n          'row align-items-start': item.mega,\n          [`row-cols-${item.subs.length}`]: item.mega\n        }),\n        popperConfig: {\n          strategy: item.mega ? 'fixed' : 'absolute',\n          modifiers: [{\n            name: 'computeStyles',\n            options: {\n              gpuAcceleration: true,\n              // true by default\n              adaptive: false,\n              roundOffsets: ({\n                x,\n                y\n              }) => {\n                if (item.mega) {\n                  try {\n                    return {\n                      x: Math.round((window.innerWidth - dropdownMenuRef.current.clientWidth) / 2 - 8),\n                      y: y + 7\n                    };\n                  } catch (e) {\n                    console.warn('error:', e);\n                  }\n                }\n\n                if (isSubItem) {\n                  return {\n                    x,\n                    y: y - 34\n                  };\n                }\n\n                return {\n                  x,\n                  y: y + 2\n                };\n              }\n            }\n          }]\n        },\n        children: /*#__PURE__*/_jsxDEV(MainMenuItems, {\n          menuItems: item.subs,\n          menuPlacement: menuPlacement,\n          isSubItem: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (item.subs && menuPlacement === MENU_PLACEMENT.Horizontal) {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"dropdown col d-flex flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        to: item.path,\n        className: classNames('dropdown-toggle', {\n          active: isActive\n        }),\n        children: getLabel(item.icon, item.label)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: /*#__PURE__*/_jsxDEV(MainMenuItems, {\n          menuItems: item.subs,\n          menuPlacement: menuPlacement,\n          isSubItem: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (item.subs && menuPlacement === MENU_PLACEMENT.Vertical) {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: item.path,\n        \"data-bs-toggle\": \"collapse\",\n        role: \"button\",\n        className: classNames({\n          active: isActive\n        }),\n        \"aria-expanded\": verticalMenuCollapseExpanded && !collapseAll,\n        onClick: onVerticalMenuCollapseClick,\n        children: getLabel(item.icon, item.label)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n        in: verticalMenuCollapseExpanded && !collapseAll,\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(MainMenuItems, {\n            menuItems: item.subs,\n            menuPlacement: menuPlacement,\n            isSubItem: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (item.isExternal) {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: item.path,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: getLabel(item.icon, item.label)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)\n    }, id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (!isSubItem || menuPlacement === MENU_PLACEMENT.Vertical) {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        to: item.path,\n        className: classNames({\n          active: isActive\n        }),\n        activeClassName: \"\",\n        children: getLabel(item.icon, item.label)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (menuPlacement === MENU_PLACEMENT.Horizontal && item.megaParent) {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"col d-flex flex-column\",\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        to: item.path,\n        className: classNames({\n          active: isActive\n        }),\n        activeClassName: \"\",\n        children: getLabel(item.icon, item.label)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n    as: \"li\",\n    children: /*#__PURE__*/_jsxDEV(NavLink, {\n      to: item.path,\n      className: classNames({\n        active: isActive\n      }),\n      activeClassName: \"\",\n      children: getLabel(item.icon, item.label)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n}, \"ZBEPGn3kNYb7T1j4yKi1ba3oAVE=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useLocation, useIntl];\n}));\n_c5 = MainMenuItem;\nMainMenuItem.displayName = 'MainMenuItem';\nconst MainMenuItems = /*#__PURE__*/React.memo(_c6 = ({\n  menuItems = [],\n  menuPlacement = DEFAULT_SETTINGS.MENU_PLACEMENT,\n  isSubItem = false\n}) => menuItems.map((item, index) => /*#__PURE__*/_jsxDEV(MainMenuItem, {\n  id: item.path,\n  item: item,\n  menuPlacement: menuPlacement,\n  isSubItem: isSubItem\n}, `menu.${item.path}.${index}`, false, {\n  fileName: _jsxFileName,\n  lineNumber: 197,\n  columnNumber: 5\n}, this)));\n_c7 = MainMenuItems;\nMainMenuItems.displayName = 'MainMenuItems';\nexport default _c8 = /*#__PURE__*/React.memo(MainMenuItems);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"HorizontalMenuDropdownToggle$memo$forwardRef\");\n$RefreshReg$(_c2, \"HorizontalMenuDropdownToggle$memo\");\n$RefreshReg$(_c3, \"HorizontalMenuDropdownToggle\");\n$RefreshReg$(_c4, \"MainMenuItem$memo\");\n$RefreshReg$(_c5, \"MainMenuItem\");\n$RefreshReg$(_c6, \"MainMenuItems$React.memo\");\n$RefreshReg$(_c7, \"MainMenuItems\");\n$RefreshReg$(_c8, \"%default%\");","map":{"version":3,"sources":["/Users/harmadini/Work/Free/React/goals_planner_fe/goals_planner_fe/src/layout/nav/main-menu/MainMenuItems.js"],"names":["React","useEffect","useState","memo","forwardRef","useRef","useDispatch","useSelector","NavLink","useLocation","useIntl","classNames","Collapse","Dropdown","DEFAULT_SETTINGS","USE_MULTI_LANGUAGE","MENU_PLACEMENT","CsLineIcons","layoutShowingNavMenu","menuChangeCollapseAll","HorizontalMenuDropdownToggle","children","onClick","href","active","ref","e","preventDefault","MainMenuItem","item","id","isSubItem","menuPlacement","dispatch","dropdownMenuRef","collapseAll","state","menu","showingNavMenu","layout","pathname","isActive","path","startsWith","indexOf","formatMessage","f","verticalMenuCollapseExpanded","setVerticalMenuCollapseExpanded","horizontalDropdownIsOpen","setHorizontalDropdownIsOpen","getLabel","icon","label","onToggleItem","isOpen","onVerticalMenuCollapseClick","stopPropagation","onHorizontalMenuDropdownToggleClick","subs","Horizontal","megaParent","mega","length","strategy","modifiers","name","options","gpuAcceleration","adaptive","roundOffsets","x","y","Math","round","window","innerWidth","current","clientWidth","console","warn","Vertical","isExternal","displayName","MainMenuItems","menuItems","map","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, memo, forwardRef, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { useIntl } from 'react-intl';\nimport classNames from 'classnames';\nimport { Collapse, Dropdown } from 'react-bootstrap';\nimport { DEFAULT_SETTINGS, USE_MULTI_LANGUAGE } from 'config.js';\nimport { MENU_PLACEMENT } from 'constants.js';\nimport CsLineIcons from 'cs-line-icons/CsLineIcons';\nimport { layoutShowingNavMenu } from 'layout/layoutSlice';\nimport { menuChangeCollapseAll } from './menuSlice';\n\nconst HorizontalMenuDropdownToggle = memo(\n  forwardRef(({ children, onClick, href = '#', active = false }, ref) => (\n    <a\n      ref={ref}\n      className={classNames('dropdown-toggle', { active })}\n      data-toggle=\"dropdown\"\n      href={href}\n      onClick={(e) => {\n        e.preventDefault();\n        onClick(e);\n      }}\n    >\n      {children}\n    </a>\n  ))\n);\n\nconst MainMenuItem = memo(({ item, id, isSubItem = false, menuPlacement = DEFAULT_SETTINGS.MENU_PLACEMENT }) => {\n  const dispatch = useDispatch();\n  const dropdownMenuRef = useRef();\n  const { collapseAll } = useSelector((state) => state.menu);\n  const { showingNavMenu } = useSelector((state) => state.layout);\n  const { pathname } = useLocation();\n  const isActive = item.path.startsWith('#') ? false : pathname === item.path || pathname.indexOf(`${item.path}/`) > -1;\n\n  const { formatMessage: f } = useIntl();\n  const [verticalMenuCollapseExpanded, setVerticalMenuCollapseExpanded] = useState(isActive);\n  const [horizontalDropdownIsOpen, setHorizontalDropdownIsOpen] = useState(false);\n\n  const getLabel = (icon, label) => (\n    <>\n      {icon && (\n        <>\n          <CsLineIcons icon={icon} size={18} className=\"cs-icon icon\" />{' '}\n        </>\n      )}\n      <span className=\"label\">{USE_MULTI_LANGUAGE ? f({ id: label }) : label}</span>\n    </>\n  );\n\n  const onToggleItem = (isOpen) => {\n    setHorizontalDropdownIsOpen(isOpen);\n  };\n\n  const onVerticalMenuCollapseClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setVerticalMenuCollapseExpanded(!verticalMenuCollapseExpanded);\n    dispatch(menuChangeCollapseAll(false));\n  };\n\n  const onHorizontalMenuDropdownToggleClick = () => {\n    onToggleItem(!horizontalDropdownIsOpen);\n    dispatch(layoutShowingNavMenu(''));\n  };\n\n  useEffect(() => {\n    if (showingNavMenu !== '' && horizontalDropdownIsOpen) {\n      onToggleItem(false);\n    }\n  }, [showingNavMenu, horizontalDropdownIsOpen]);\n\n  if (item.subs && menuPlacement === MENU_PLACEMENT.Horizontal && !item.megaParent) {\n    return (\n      <Dropdown as=\"li\" key={id} onToggle={onToggleItem} className={classNames({ mega: item.mega })} show={horizontalDropdownIsOpen}>\n        <Dropdown.Toggle as={HorizontalMenuDropdownToggle} onClick={onHorizontalMenuDropdownToggleClick} href={item.path} active={isActive}>\n          {getLabel(item.icon, item.label)}\n        </Dropdown.Toggle>\n        <Dropdown.Menu\n          ref={dropdownMenuRef}\n          renderOnMount\n          as=\"ul\"\n          align=\"left\"\n          className={classNames('opacityIn', {\n            'row align-items-start': item.mega,\n            [`row-cols-${item.subs.length}`]: item.mega,\n          })}\n          popperConfig={{\n            strategy: item.mega ? 'fixed' : 'absolute',\n            modifiers: [\n              {\n                name: 'computeStyles',\n                options: {\n                  gpuAcceleration: true, // true by default\n                  adaptive: false,\n                  roundOffsets: ({ x, y }) => {\n                    if (item.mega) {\n                      try {\n                        return {\n                          x: Math.round((window.innerWidth - dropdownMenuRef.current.clientWidth) / 2 - 8),\n                          y: y + 7,\n                        };\n                      } catch (e) {\n                        console.warn('error:', e);\n                      }\n                    }\n                    if (isSubItem) {\n                      return { x, y: y - 34 };\n                    }\n                    return { x, y: y + 2 };\n                  },\n                },\n              },\n            ],\n          }}\n        >\n          <MainMenuItems menuItems={item.subs} menuPlacement={menuPlacement} isSubItem />\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n  }\n  if (item.subs && menuPlacement === MENU_PLACEMENT.Horizontal) {\n    return (\n      <li className=\"dropdown col d-flex flex-column\">\n        <NavLink to={item.path} className={classNames('dropdown-toggle', { active: isActive })}>\n          {getLabel(item.icon, item.label)}\n        </NavLink>\n        <ul>\n          <MainMenuItems menuItems={item.subs} menuPlacement={menuPlacement} isSubItem />\n        </ul>\n      </li>\n    );\n  }\n  if (item.subs && menuPlacement === MENU_PLACEMENT.Vertical) {\n    return (\n      <li>\n        <a\n          href={item.path}\n          data-bs-toggle=\"collapse\"\n          role=\"button\"\n          className={classNames({ active: isActive })}\n          aria-expanded={verticalMenuCollapseExpanded && !collapseAll}\n          onClick={onVerticalMenuCollapseClick}\n        >\n          {getLabel(item.icon, item.label)}\n        </a>\n        <Collapse in={verticalMenuCollapseExpanded && !collapseAll}>\n          <ul>\n            <MainMenuItems menuItems={item.subs} menuPlacement={menuPlacement} isSubItem />\n          </ul>\n        </Collapse>\n      </li>\n    );\n  }\n  if (item.isExternal) {\n    return (\n      <li key={id}>\n        <a href={item.path} target=\"_blank\" rel=\"noopener noreferrer\">\n          {getLabel(item.icon, item.label)}\n        </a>\n      </li>\n    );\n  }\n  if (!isSubItem || menuPlacement === MENU_PLACEMENT.Vertical) {\n    return (\n      <li>\n        <NavLink to={item.path} className={classNames({ active: isActive })} activeClassName=\"\">\n          {getLabel(item.icon, item.label)}\n        </NavLink>\n      </li>\n    );\n  }\n  if (menuPlacement === MENU_PLACEMENT.Horizontal && item.megaParent) {\n    return (\n      <li className=\"col d-flex flex-column\">\n        <NavLink to={item.path} className={classNames({ active: isActive })} activeClassName=\"\">\n          {getLabel(item.icon, item.label)}\n        </NavLink>\n      </li>\n    );\n  }\n  return (\n    <Dropdown.Item as=\"li\">\n      <NavLink to={item.path} className={classNames({ active: isActive })} activeClassName=\"\">\n        {getLabel(item.icon, item.label)}\n      </NavLink>\n    </Dropdown.Item>\n  );\n});\n\nMainMenuItem.displayName = 'MainMenuItem';\n\nconst MainMenuItems = React.memo(({ menuItems = [], menuPlacement = DEFAULT_SETTINGS.MENU_PLACEMENT, isSubItem = false }) =>\n  menuItems.map((item, index) => (\n    <MainMenuItem key={`menu.${item.path}.${index}`} id={item.path} item={item} menuPlacement={menuPlacement} isSubItem={isSubItem} />\n  ))\n);\n\nMainMenuItems.displayName = 'MainMenuItems';\n\nexport default React.memo(MainMenuItems);\n"]},"metadata":{},"sourceType":"module"}