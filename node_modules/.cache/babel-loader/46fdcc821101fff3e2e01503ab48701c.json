{"ast":null,"code":"var _jsxFileName = \"/Users/harmadini/Work/Free/React/Acorn-React-Admin-Template-1.0.2/Source/acorn-react-starter-project/src/views/TreeViewDabeng.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport OrganizationChart from \"@dabeng/react-orgchart\";\nimport { Row, Col, Card, Form } from 'react-bootstrap';\nimport * as Yup from 'yup';\nimport { useFormik } from 'formik';\nimport HtmlHead from 'components/html-head/HtmlHead';\nimport BreadcrumbList from 'components/breadcrumb-list/BreadcrumbList';\nimport useCustomLayout from 'hooks/useCustomLayout';\nimport { MENU_PLACEMENT, LAYOUT } from 'constants.js';\nimport { toast } from 'react-toastify';\nimport { useSelector } from 'react-redux';\nimport { Signup } from '../services/signin';\nimport MyNode from \"../components/node/mynode\";\nimport { TreeView } from '../services/treeservice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet handleClick = null;\n\nfunction filterNodes(keyWord) {\n  if (!keyWord.length) {\n    window.alert(\"Please type key word firstly.\");\n    return;\n  } else {\n    var $chart = $(\".orgchart\"); // disalbe the expand/collapse feture\n\n    $chart.addClass(\"noncollapsable\"); // distinguish the matched nodes and the unmatched nodes according to the given key word\n\n    $chart.find(\".node\").filter(function (index, node) {\n      return $(node).text().toLowerCase().indexOf(keyWord) > -1;\n    }).addClass(\"matched\").closest(\"table\").parents(\"table\").find(\"tr:first\").find(\".node\").addClass(\"retained\"); // hide the unmatched nodes\n\n    $chart.find(\".matched,.retained\").each(function (index, node) {\n      $(node).removeClass(\"slide-up\").closest(\".nodes\").removeClass(\"hidden\").siblings(\".lines\").removeClass(\"hidden\");\n      var $unmatched = $(node).closest(\"table\").parent().siblings().find(\".node:first:not(.matched,.retained)\").closest(\"table\").parent().addClass(\"hidden\");\n      $unmatched.parent().prev().children().slice(1, $unmatched.length * 2 + 1).addClass(\"hidden\");\n    }); // hide the redundant descendant nodes of the matched nodes\n\n    $chart.find(\".matched\").each(function (index, node) {\n      if (!$(node).closest(\"tr\").siblings(\":last\").find(\".matched\").length) {\n        $(node).closest(\"tr\").siblings().addClass(\"hidden\");\n      }\n    });\n  }\n}\n\nconst TreeViewDabeng = () => {\n  _s();\n\n  const {\n    currentUser,\n    isLogin\n  } = useSelector(state => state.auth);\n  const [ds, getGoals] = useState('');\n  const [isLoading, setLoading] = useState(true);\n\n  const getAllGoals = () => {\n    setLoading(true);\n    let result = null;\n    const Signups = TreeView(currentUser.token).then(function (response) {\n      if (response) {\n        if (response.responseCode === 200) {\n          toast.success(response.responseDesc, {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n          });\n          console.log(response.responseData);\n          result = response.responseData;\n          console.log(result);\n          getGoals(result);\n          setLoading(false);\n        } else {\n          toast.error(response.responseDesc, {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n          });\n        }\n      }\n    });\n  };\n\n  useEffect(() => {\n    getAllGoals();\n  }, []);\n\n  const onSubmit = values => {\n    console.log(values);\n    filterNodes(values);\n  };\n\n  handleClick = async () => {};\n\n  const validationSchema = Yup.object().shape({\n    searchField: Yup.string().required('Search is required')\n  });\n  const initialValues = {\n    searchField: ''\n  };\n  const title = 'Tree Admin Page';\n  const description = 'An page for configure the tree view.';\n  const breadcrumbs = [{\n    to: '',\n    text: 'Home'\n  }];\n  const formik = useFormik({\n    initialValues,\n    validationSchema,\n    onSubmit\n  });\n  const {\n    handleSubmit,\n    handleChange,\n    values,\n    touched,\n    errors\n  } = formik;\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 14\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App2\",\n    children: [/*#__PURE__*/_jsxDEV(HtmlHead, {\n      title: title,\n      description: description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"scroll-section\",\n          id: \"title\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"page-title-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"mb-0 pb-0 display-4\",\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(BreadcrumbList, {\n              items: breadcrumbs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"g-0 row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-start justify-content-end justify-content-lg-start col-md col-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                id: \"searchForm\",\n                className: \"tooltip-end-bottom me-lg-auto w-100 w-md-auto search-input-container border border-separator \",\n                onSubmit: handleSubmit,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-group\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                    id: \"searchField\",\n                    className: \"\",\n                    placeholder: \"Search\",\n                    value: values.searchField,\n                    onChange: handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    id: \"button-addon\",\n                    type: \"submit\",\n                    className: \"btn btn-outline-secondary\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"search-magnifier-icon pe-none\",\n                      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        width: \"20\",\n                        height: \"20\",\n                        viewBox: \"0 0 20 20\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"1.5\",\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        className: \"cs-icon search \",\n                        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                          cx: \"9\",\n                          cy: \"9\",\n                          r: \"7\",\n                          children: \" \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 176,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M14 14L17.5 17.5\",\n                          children: \" \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 177,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 39\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 35\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-icon btn-icon-start ms-1 btn btn-outline-primary\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  width: \"20\",\n                  height: \"20\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"1.5\",\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  className: \"cs-icon plus \",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M10 17 10 3M3 10 17 10\",\n                    children: \" \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 35\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Go to Top\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scroll-section EmptyDiv os-host os-host-foreign os-host-resize-disabled os-host-scrollbar-vertical-hidden os-host-transition\",\n            children: /*#__PURE__*/_jsxDEV(OrganizationChart, {\n              datasource: ds,\n              chartClass: \"myChart\",\n              NodeTemplate: MyNode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleClick,\n          className: \"btn-icon btn-icon-start ms-1 btn btn-outline-primary\",\n          children: \"Click Me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TreeViewDabeng, \"lhsZsohZJLwU+PwyGSqZBm3+K0k=\", false, function () {\n  return [useSelector, useFormik];\n});\n\n_c = TreeViewDabeng;\nexport default TreeViewDabeng;\n\nvar _c;\n\n$RefreshReg$(_c, \"TreeViewDabeng\");","map":{"version":3,"sources":["/Users/harmadini/Work/Free/React/Acorn-React-Admin-Template-1.0.2/Source/acorn-react-starter-project/src/views/TreeViewDabeng.js"],"names":["React","useEffect","useState","OrganizationChart","Row","Col","Card","Form","Yup","useFormik","HtmlHead","BreadcrumbList","useCustomLayout","MENU_PLACEMENT","LAYOUT","toast","useSelector","Signup","MyNode","TreeView","handleClick","filterNodes","keyWord","length","window","alert","$chart","$","addClass","find","filter","index","node","text","toLowerCase","indexOf","closest","parents","each","removeClass","siblings","$unmatched","parent","prev","children","slice","TreeViewDabeng","currentUser","isLogin","state","auth","ds","getGoals","isLoading","setLoading","getAllGoals","result","Signups","token","then","response","responseCode","success","responseDesc","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","console","log","responseData","error","onSubmit","values","validationSchema","object","shape","searchField","string","required","initialValues","title","description","breadcrumbs","to","formik","handleSubmit","handleChange","touched","errors"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport OrganizationChart from \"@dabeng/react-orgchart\";\nimport { Row, Col, Card, Form } from 'react-bootstrap';\nimport * as Yup from 'yup';\nimport { useFormik } from 'formik';\nimport HtmlHead from 'components/html-head/HtmlHead';\nimport BreadcrumbList from 'components/breadcrumb-list/BreadcrumbList';\nimport useCustomLayout from 'hooks/useCustomLayout';\nimport { MENU_PLACEMENT, LAYOUT } from 'constants.js';\nimport { toast } from 'react-toastify';\nimport { useSelector } from 'react-redux';\nimport { Signup } from '../services/signin';\nimport MyNode from \"../components/node/mynode\";\nimport { TreeView } from '../services/treeservice';\n\n\nlet handleClick = null;\n\nfunction filterNodes(keyWord) {\n  if (!keyWord.length) {\n    window.alert(\"Please type key word firstly.\");\n    return;\n  } else {\n    var $chart = $(\".orgchart\");\n    // disalbe the expand/collapse feture\n    $chart.addClass(\"noncollapsable\");\n    // distinguish the matched nodes and the unmatched nodes according to the given key word\n    $chart\n      .find(\".node\")\n      .filter(function(index, node) {\n        return (\n          $(node)\n            .text()\n            .toLowerCase()\n            .indexOf(keyWord) > -1\n        );\n      })\n      .addClass(\"matched\")\n      .closest(\"table\")\n      .parents(\"table\")\n      .find(\"tr:first\")\n      .find(\".node\")\n      .addClass(\"retained\");\n    // hide the unmatched nodes\n    $chart.find(\".matched,.retained\").each(function(index, node) {\n      $(node)\n        .removeClass(\"slide-up\")\n        .closest(\".nodes\")\n        .removeClass(\"hidden\")\n        .siblings(\".lines\")\n        .removeClass(\"hidden\");\n      var $unmatched = $(node)\n        .closest(\"table\")\n        .parent()\n        .siblings()\n        .find(\".node:first:not(.matched,.retained)\")\n        .closest(\"table\")\n        .parent()\n        .addClass(\"hidden\");\n      $unmatched\n        .parent()\n        .prev()\n        .children()\n        .slice(1, $unmatched.length * 2 + 1)\n        .addClass(\"hidden\");\n    });\n    // hide the redundant descendant nodes of the matched nodes\n    $chart.find(\".matched\").each(function(index, node) {\n      if (\n        !$(node)\n          .closest(\"tr\")\n          .siblings(\":last\")\n          .find(\".matched\").length\n      ) {\n        $(node)\n          .closest(\"tr\")\n          .siblings()\n          .addClass(\"hidden\");\n      }\n    });\n  }\n}\n\nconst TreeViewDabeng = () => {\n\n    const { currentUser, isLogin } = useSelector((state) => state.auth);\n    const [ds, getGoals] = useState('');\n    const [isLoading, setLoading] = useState(true);\n\n    const getAllGoals = () => {\n      \n      setLoading(true);\n      let result = null;\n      const Signups  =  TreeView(currentUser.token).then(function(response) {\n        if(response) {\n          if(response.responseCode === 200) {\n            toast.success(response.responseDesc, {\n              position: \"top-right\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n            console.log(response.responseData);\n            result = response.responseData;\n            console.log(result);\n            getGoals(result);\n            setLoading(false);\n          }else{  \n            toast.error(response.responseDesc, {\n              position: \"top-right\",\n              autoClose: 5000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n          }\n        }\n      });\n    }\n\n    useEffect(() => {\n      getAllGoals();\n    }, []);\n\n    const onSubmit = (values) => {\n      console.log(values);\n      filterNodes(values);\n    }\n\n    handleClick = async () => {\n       \n    }\n\n    const validationSchema = Yup.object().shape({\n      searchField: Yup.string().required('Search is required'),\n    });\n    const initialValues = { searchField: '' };\n    const title = 'Tree Admin Page';\n    const description = 'An page for configure the tree view.';\n    const breadcrumbs = [{ to: '', text: 'Home' }];\n    const formik = useFormik({ initialValues, validationSchema, onSubmit });\n    const { handleSubmit, handleChange, values, touched, errors } = formik;\n\n    if (isLoading) {\n      return <div className=\"App\">Loading...</div>;\n    }\n\n    return (\n        <div className=\"App2\">\n            \n           {/* {setLoading(true)} */}\n            <HtmlHead title={title} description={description} />\n            <Row>\n                <Col>\n                    {/* Title Start */}\n                    <section className=\"scroll-section\" id=\"title\">\n                    <div className=\"page-title-container\">\n                        <h1 className=\"mb-0 pb-0 display-4\">{title}</h1>\n                        <BreadcrumbList items={breadcrumbs} />\n                    </div>\n                    {/* <Card className=\"mb-5\" body>\n                        <Card.Text>{description}</Card.Text> */}\n                      <div className=\"g-0 row\">\n                          <div className=\"d-flex align-items-start justify-content-end justify-content-lg-start col-md col-12\">\n                              <form id=\"searchForm\" className=\"tooltip-end-bottom me-lg-auto w-100 w-md-auto search-input-container border border-separator \" onSubmit={handleSubmit}>\n                              <div className=\"input-group\">\n                                <Form.Control id=\"searchField\" className=\"\" placeholder=\"Search\" value={values.searchField} onChange={handleChange} />\n                                <button id=\"button-addon\" type=\"submit\" className=\"btn btn-outline-secondary\">\n                                  <span className=\"search-magnifier-icon pe-none\">\n                                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"cs-icon search \">\n                                        <circle cx=\"9\" cy=\"9\" r=\"7\"> </circle>\n                                        <path d=\"M14 14L17.5 17.5\"> </path>\n                                      </svg>\n                                  </span>\n                                </button>\n                              </div>\n                              </form> \n                              <button type=\"button\" className=\"btn-icon btn-icon-start ms-1 btn btn-outline-primary\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"cs-icon plus \">\n                                  <path d=\"M10 17 10 3M3 10 17 10\"> </path>\n                                </svg> \n                                <span>Go to Top</span>\n                              </button>\n                          </div>\n                        </div>\n                    <div className=\"scroll-section EmptyDiv os-host os-host-foreign os-host-resize-disabled os-host-scrollbar-vertical-hidden os-host-transition\"> \n                      \n                      <OrganizationChart\n                          datasource={ds}\n                          chartClass=\"myChart\"\n                          NodeTemplate={MyNode}\n                      />\n                    </div>\n                        {/* </Card> */}\n                    </section>\n                {/* Title End */}\n                <button type=\"button\" onClick={handleClick} className=\"btn-icon btn-icon-start ms-1 btn btn-outline-primary\">\n                    Click Me\n                </button>\n                </Col>\n            </Row>\n        </div>\n      \n    );\n};\n  \n  export default TreeViewDabeng;"]},"metadata":{},"sourceType":"module"}