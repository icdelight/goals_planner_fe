{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = createMigrate;\n\nvar _constants = require(\"./constants\");\n\nfunction createMigrate(migrations, config) {\n  var _ref = config || {},\n      debug = _ref.debug;\n\n  return function (state, currentVersion) {\n    if (!state) {\n      if (process.env.NODE_ENV !== 'production' && debug) console.log('reduxjs-toolkit-persist: no inbound state, skipping migration');\n      return Promise.resolve(undefined);\n    }\n\n    var inboundVersion = state._persist && state._persist.version !== undefined ? state._persist.version : _constants.DEFAULT_VERSION;\n\n    if (inboundVersion === currentVersion) {\n      if (process.env.NODE_ENV !== 'production' && debug) console.log('reduxjs-toolkit-persist: versions match, noop migration');\n      return Promise.resolve(state);\n    }\n\n    if (inboundVersion > currentVersion) {\n      if (process.env.NODE_ENV !== 'production') console.error('reduxjs-toolkit-persist: downgrading version is not supported');\n      return Promise.resolve(state);\n    }\n\n    var migrationKeys = Object.keys(migrations).map(function (ver) {\n      return parseInt(ver);\n    }).filter(function (key) {\n      return currentVersion >= key && key > inboundVersion;\n    }).sort(function (a, b) {\n      return a - b;\n    });\n    if (process.env.NODE_ENV !== 'production' && debug) console.log('reduxjs-toolkit-persist: migrationKeys', migrationKeys);\n\n    try {\n      var migratedState = migrationKeys.reduce(function (state, versionKey) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('reduxjs-toolkit-persist: running migration for versionKey', versionKey);\n        return migrations[versionKey](state);\n      }, state);\n      return Promise.resolve(migratedState);\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  };\n}","map":{"version":3,"sources":["/Users/harmadini/Work/Free/React/goals_planner_fe/goals_planner_fe/node_modules/reduxjs-toolkit-persist/es/createMigrate.js"],"names":["Object","defineProperty","exports","value","createMigrate","_constants","require","migrations","config","_ref","debug","state","currentVersion","process","env","NODE_ENV","console","log","Promise","resolve","undefined","inboundVersion","_persist","version","DEFAULT_VERSION","error","migrationKeys","keys","map","ver","parseInt","filter","key","sort","a","b","migratedState","reduce","versionKey","err","reject"],"mappings":"AAAA;;AAIAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqBE,aAArB;;AAkBA,IAAIC,UAAU,GAAGC,OAAO,CAAC,aAAD,CAAxB;;AAEA,SAASF,aAAT,CAAuBG,UAAvB,EAAmCC,MAAnC,EAA2C;AACzC,MAAIC,IAAI,GAAGD,MAAM,IAAI,EAArB;AAAA,MACIE,KAAK,GAAGD,IAAI,CAACC,KADjB;;AAGA,SAAO,UAAUC,KAAV,EAAiBC,cAAjB,EAAiC;AACtC,QAAI,CAACD,KAAL,EAAY;AACV,UAAIE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCL,KAA7C,EAAoDM,OAAO,CAACC,GAAR,CAAY,+DAAZ;AACpD,aAAOC,OAAO,CAACC,OAAR,CAAgBC,SAAhB,CAAP;AACD;;AAED,QAAIC,cAAc,GAAGV,KAAK,CAACW,QAAN,IAAkBX,KAAK,CAACW,QAAN,CAAeC,OAAf,KAA2BH,SAA7C,GAAyDT,KAAK,CAACW,QAAN,CAAeC,OAAxE,GAAkFlB,UAAU,CAACmB,eAAlH;;AAEA,QAAIH,cAAc,KAAKT,cAAvB,EAAuC;AACrC,UAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCL,KAA7C,EAAoDM,OAAO,CAACC,GAAR,CAAY,yDAAZ;AACpD,aAAOC,OAAO,CAACC,OAAR,CAAgBR,KAAhB,CAAP;AACD;;AAED,QAAIU,cAAc,GAAGT,cAArB,EAAqC;AACnC,UAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2CC,OAAO,CAACS,KAAR,CAAc,+DAAd;AAC3C,aAAOP,OAAO,CAACC,OAAR,CAAgBR,KAAhB,CAAP;AACD;;AAED,QAAIe,aAAa,GAAG1B,MAAM,CAAC2B,IAAP,CAAYpB,UAAZ,EAAwBqB,GAAxB,CAA4B,UAAUC,GAAV,EAAe;AAC7D,aAAOC,QAAQ,CAACD,GAAD,CAAf;AACD,KAFmB,EAEjBE,MAFiB,CAEV,UAAUC,GAAV,EAAe;AACvB,aAAOpB,cAAc,IAAIoB,GAAlB,IAAyBA,GAAG,GAAGX,cAAtC;AACD,KAJmB,EAIjBY,IAJiB,CAIZ,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtB,aAAOD,CAAC,GAAGC,CAAX;AACD,KANmB,CAApB;AAOA,QAAItB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCL,KAA7C,EAAoDM,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDS,aAAtD;;AAEpD,QAAI;AACF,UAAIU,aAAa,GAAGV,aAAa,CAACW,MAAd,CAAqB,UAAU1B,KAAV,EAAiB2B,UAAjB,EAA6B;AACpE,YAAIzB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCL,KAA7C,EAAoDM,OAAO,CAACC,GAAR,CAAY,2DAAZ,EAAyEqB,UAAzE;AACpD,eAAO/B,UAAU,CAAC+B,UAAD,CAAV,CAAuB3B,KAAvB,CAAP;AACD,OAHmB,EAGjBA,KAHiB,CAApB;AAIA,aAAOO,OAAO,CAACC,OAAR,CAAgBiB,aAAhB,CAAP;AACD,KAND,CAME,OAAOG,GAAP,EAAY;AACZ,aAAOrB,OAAO,CAACsB,MAAR,CAAeD,GAAf,CAAP;AACD;AACF,GApCD;AAqCD","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = createMigrate;\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.promise.js\");\n\nrequire(\"core-js/modules/es.array.sort.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.parse-int.js\");\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar _constants = require(\"./constants\");\n\nfunction createMigrate(migrations, config) {\n  var _ref = config || {},\n      debug = _ref.debug;\n\n  return function (state, currentVersion) {\n    if (!state) {\n      if (process.env.NODE_ENV !== 'production' && debug) console.log('reduxjs-toolkit-persist: no inbound state, skipping migration');\n      return Promise.resolve(undefined);\n    }\n\n    var inboundVersion = state._persist && state._persist.version !== undefined ? state._persist.version : _constants.DEFAULT_VERSION;\n\n    if (inboundVersion === currentVersion) {\n      if (process.env.NODE_ENV !== 'production' && debug) console.log('reduxjs-toolkit-persist: versions match, noop migration');\n      return Promise.resolve(state);\n    }\n\n    if (inboundVersion > currentVersion) {\n      if (process.env.NODE_ENV !== 'production') console.error('reduxjs-toolkit-persist: downgrading version is not supported');\n      return Promise.resolve(state);\n    }\n\n    var migrationKeys = Object.keys(migrations).map(function (ver) {\n      return parseInt(ver);\n    }).filter(function (key) {\n      return currentVersion >= key && key > inboundVersion;\n    }).sort(function (a, b) {\n      return a - b;\n    });\n    if (process.env.NODE_ENV !== 'production' && debug) console.log('reduxjs-toolkit-persist: migrationKeys', migrationKeys);\n\n    try {\n      var migratedState = migrationKeys.reduce(function (state, versionKey) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('reduxjs-toolkit-persist: running migration for versionKey', versionKey);\n        return migrations[versionKey](state);\n      }, state);\n      return Promise.resolve(migratedState);\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  };\n}"]},"metadata":{},"sourceType":"script"}