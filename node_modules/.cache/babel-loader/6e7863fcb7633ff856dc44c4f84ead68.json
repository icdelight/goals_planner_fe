{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatResults = void 0;\n\nvar set_value_1 = __importDefault(require(\"set-value\"));\n\nvar strind_1 = __importDefault(require(\"strind\"));\n\nfunction formatResults(results) {\n  var finalResults = [];\n  results.forEach(function (result, index) {\n    var _a;\n\n    finalResults.push(__assign(__assign({}, result), {\n      formatted: __assign({}, result.item)\n    }));\n    (_a = result.matches) === null || _a === void 0 ? void 0 : _a.forEach(function (_a) {\n      var indices = _a.indices,\n          key = _a.key,\n          value = _a.value;\n      if (!value || !key) return;\n      var output = strind_1.default(value, __spreadArrays(indices), function (_a) {\n        var text = _a.chars,\n            matches = _a.matches;\n        return {\n          text: text,\n          isHighlighted: matches\n        };\n      });\n      var formattedResult = output.matched;\n      var formatted = finalResults[index].formatted;\n\n      if (key.split('.').length > 1) {\n        set_value_1.default(formatted, key, formattedResult);\n      } else {\n        formatted[key] = formattedResult;\n      }\n    });\n  });\n  return finalResults;\n}\n\nexports.formatResults = formatResults;","map":null,"metadata":{},"sourceType":"script"}